(()=>{"use strict";var t,e={7187:t=>{var e,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function r(){r.init.call(this)}t.exports=r,t.exports.once=function(t,e){return new Promise((function(n,i){function o(n){t.removeListener(e,r),i(n)}function r(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}v(t,e,r,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&v(t,"error",e,{once:!0})}(t,o)}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?r.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var o,r,a,c;if(s(n),void 0===(r=t._events)?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),r=t._events),a=r[e]),void 0===a)a=r[e]=n,++t._eventsCount;else if("function"==typeof a?a=r[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(o=l(t))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=u.bind(i);return o.listener=n,i.wrapFn=o,o}function h(t,e,n){var i=t._events;if(void 0===i)return[];var o=i[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):f(o,o.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function v(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function o(r){i.once&&t.removeEventListener(e,o),n(r)}))}}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},r.prototype.getMaxListeners=function(){return l(this)},r.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var o="error"===t,r=this._events;if(void 0!==r)o=o&&void 0===r.error;else if(!o)return!1;if(o){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[t];if(void 0===l)return!1;if("function"==typeof l)i(l,this,e);else{var c=l.length,u=f(l,c);for(n=0;n<c;++n)i(u[n],this,e)}return!0},r.prototype.addListener=function(t,e){return c(this,t,e,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(t,e){return c(this,t,e,!0)},r.prototype.once=function(t,e){return s(e),this.on(t,d(this,t,e)),this},r.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,d(this,t,e)),this},r.prototype.removeListener=function(t,e){var n,i,o,r,a;if(s(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,r=n.length-1;r>=0;r--)if(n[r]===e||n[r].listener===e){a=n[r].listener,o=r;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(o=r[i])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},r.prototype.listeners=function(t){return h(this,t,!0)},r.prototype.rawListeners=function(t){return h(this,t,!1)},r.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},r.prototype.listenerCount=p,r.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},8301:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.BaseSequenceBlock=e.BaseInsertionControl=e.BaseSequenceChild=void 0;var l=n(1614),c=s(n(7187)),u=n(5447),d=n(1859),h=function(){function t(t){this.sequenceChild=t}return t.prototype.render=function(t){var e=this,n=this.sequenceChild.strings[this.labelIdentifier]||this.labelIdentifier;this.dom=$('\n      <button type="button" class="button button--icon text-replace white" title="'.concat((0,u.escapeHtml)(n),'">\n        <svg class="icon icon-').concat((0,u.escapeHtml)(this.icon),'" aria-hidden="true">\n          <use href="#icon-').concat((0,u.escapeHtml)(this.icon),'"></use>\n        </svg>\n      </button>\n    ')),this.dom.on("click",(function(){return e.onClick&&e.onClick(),!1})),$(t).append(this.dom),this.enableEvent&&this.sequenceChild.on(this.enableEvent,(function(){e.enable()})),this.disableEvent&&this.sequenceChild.on(this.disableEvent,(function(){e.disable()})),this.initiallyDisabled&&this.disable()},t.prototype.enable=function(){this.dom.removeAttr("disabled")},t.prototype.disable=function(){this.dom.attr("disabled","true")},t}(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableEvent="enableMoveUp",e.disableEvent="disableMoveUp",e.initiallyDisabled=!0,e.icon="arrow-up",e.labelIdentifier="MOVE_UP",e}return o(e,t),e.prototype.onClick=function(){this.sequenceChild.moveUp()},e}(h),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableEvent="enableMoveDown",e.disableEvent="disableMoveDown",e.initiallyDisabled=!0,e.icon="arrow-down",e.labelIdentifier="MOVE_DOWN",e}return o(e,t),e.prototype.onClick=function(){this.sequenceChild.moveDown()},e}(h),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableEvent="enableDuplication",e.disableEvent="disableDuplication",e.icon="duplicate",e.labelIdentifier="DUPLICATE",e}return o(e,t),e.prototype.onClick=function(){this.sequenceChild.duplicate({animate:!0})},e}(h),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon="bin",e.labelIdentifier="DELETE",e}return o(e,t),e.prototype.onClick=function(){this.sequenceChild.delete({animate:!0})},e}(h),b=function(t){function e(t,e,n,i,o,r,a,s){var l=this;l.blockDef=t,l.type=t.name,l.prefix=n,l.index=i,l.id=o,l.sequence=a;var c=s&&s.animate,h=s&&s.focus,b=s&&s.collapsed;l.strings=s&&s.strings||{};var y="block-".concat(o,"-section"),g="block-".concat(o,"-heading"),k="block-".concat(o,"-content"),w=(0,u.escapeHtml)(l.blockDef.meta.icon),B=(0,u.escapeHtml)(l.blockDef.meta.label),_=$("\n      <div ".concat(l.id?'data-contentpath="'.concat((0,u.escapeHtml)(l.id),'"'):"data-contentpath-disabled",'>\n        <input type="hidden"  name="').concat(l.prefix,'-deleted" value="">\n        <input type="hidden" name="').concat(l.prefix,'-order" value="').concat(i,'">\n        <input type="hidden" name="').concat(l.prefix,'-type" value="').concat((0,u.escapeHtml)(l.type||""),'">\n        <input type="hidden" name="').concat(l.prefix,'-id" value="').concat((0,u.escapeHtml)(l.id||""),'">\n        <section class="w-panel w-panel--nested" id="').concat(y,'" aria-labelledby="').concat(g,'" data-panel>\n          <div class="w-panel__header">\n            <a class="w-panel__anchor w-panel__anchor--prefix" href="#').concat(y,'" aria-labelledby="').concat(g,'" data-panel-anchor>\n              <svg class="icon icon-link w-panel__icon" aria-hidden="true">\n                <use href="#icon-link"></use>\n              </svg>\n            </a>\n            <button class="w-panel__toggle" type="button" aria-label="').concat("Toggle section",'" aria-describedby="').concat(g,'" data-panel-toggle aria-controls="').concat(k,'" aria-expanded="true">\n              <svg class="icon icon-').concat(w,' w-panel__icon" aria-hidden="true">\n                <use href="#icon-').concat(w,'"></use>\n              </svg>\n            </button>\n            <h2 class="w-panel__heading w-panel__heading--label" aria-level="3" id="').concat(g,'" data-panel-heading>\n              <span data-panel-heading-text class="c-sf-block__title"></span>\n              <span class="c-sf-block__type">').concat(B,"</span>\n              ").concat(t.meta.required?'<span class="w-required-mark" data-panel-required>*</span>':"",'\n            </h2>\n            <a class="w-panel__anchor w-panel__anchor--suffix" href="#').concat(y,'" aria-labelledby="').concat(g,'">\n              <svg class="icon icon-link w-panel__icon" aria-hidden="true">\n                <use href="#icon-link"></use>\n              </svg>\n            </a>\n            <div class="w-panel__divider"></div>\n            <div class="w-panel__controls" data-panel-controls>\n              <div class="w-panel__controls-cue">\n                <svg class="icon icon-dots-horizontal w-panel__icon" aria-hidden="true">\n                  <use href="#icon-dots-horizontal"></use>\n                </svg>\n              </div>\n            </div>\n          </div>\n          <div id="').concat(k,'" class="w-panel__content">\n            <div data-streamfield-block></div>\n          </div>\n        </section>\n      </div>\n    '));$(e).replaceWith(_),l.element=_.get(0);var C=_.find("[data-streamfield-block]").get(0);l.actionsContainerElement=_.find("[data-panel-controls]").get(0),l.titleElement=_.find("[data-panel-heading-text]"),l.toggleElement=l.element.querySelector("[data-panel-toggle]"),l.deletedInput=_.find('input[name="'.concat(l.prefix,'-deleted"]')),l.indexInput=_.find('input[name="'.concat(l.prefix,'-order"]')),l.addActionButton(new p(l)),l.addActionButton(new f(l)),l.addActionButton(new v(l)),l.addActionButton(new m(l));var D=new Map;D.set("duplicate",{enabled:!0,fn:l.duplicate}),D.set("split",{enabled:!0,fn:l.split.bind(l)}),D.set("addSibling",{enabled:!0,fn:l.addSibling.bind(l),blockGroups:l.sequence.getBlockGroups(),getBlockCount:l.sequence.getBlockCount.bind(l.sequence),getBlockMax:l.sequence.getBlockMax.bind(l.sequence)}),l.block=l.blockDef.render(C,l.prefix+"-value",r,void 0,D),(0,d.initCollapsiblePanel)(l.element.querySelector("[data-panel-toggle]")),b&&l.collapse(),l.toggleElement.addEventListener("wagtail:panel-toggle",(function(){var t=l.getTextLabel({maxLength:50});l.titleElement.text(t||"")}));var S=l.getTextLabel({maxLength:50});return l.titleElement.text(S||""),c?(_.hide(),setTimeout((function(){_.slideDown(),h&&l.block.focus({soft:!0})}),10)):h&&l.block.focus({soft:!0}),l}return o(e,t),e.prototype.addActionButton=function(t){t.render(this.actionsContainerElement)},e.prototype.addSibling=function(t){this.sequence._onRequestInsert(this.index+1,t)},e.prototype.moveUp=function(){this.sequence.moveBlockUp(this.index)},e.prototype.moveDown=function(){this.sequence.moveBlockDown(this.index)},e.prototype.duplicate=function(t){this.sequence.duplicateBlock(this.index,t)},e.prototype.delete=function(t){this.sequence.deleteBlock(this.index,t)},e.prototype.markDeleted=function(t){var e=t.animate,n=void 0!==e&&e;this.deletedInput.val("1"),n?$(this.element).slideUp().dequeue().fadeOut().attr("aria-hidden","true"):$(this.element).hide().attr("aria-hidden","true");var i=this.getContentPath();i&&window.comments.commentApp&&window.comments.commentApp.invalidateContentPath(i)},e.prototype.getContentPath=function(){var t;return null===(t=window.comments)||void 0===t?void 0:t.getContentPath(this.element)},e.prototype.enableDuplication=function(){this.emit("enableDuplication"),this.block&&this.block.setCapabilityOptions&&this.block.setCapabilityOptions("duplicate",{enabled:!0})},e.prototype.disableDuplication=function(){this.emit("disableDuplication"),this.block&&this.block.setCapabilityOptions&&this.block.setCapabilityOptions("duplicate",{enabled:!1})},e.prototype.enableSplit=function(){this.block&&this.block.setCapabilityOptions&&this.block.setCapabilityOptions("split",{enabled:!0})},e.prototype.disableSplit=function(){this.block&&this.block.setCapabilityOptions&&this.block.setCapabilityOptions("split",{enabled:!1})},e.prototype.enableMoveUp=function(){this.emit("enableMoveUp")},e.prototype.disableMoveUp=function(){this.emit("disableMoveUp")},e.prototype.enableMoveDown=function(){this.emit("enableMoveDown")},e.prototype.disableMoveDown=function(){this.emit("disableMoveDown")},e.prototype.setIndex=function(t){this.index=t,this.indexInput.val(t)},e.prototype.setError=function(t){this.block.setError(t)},e.prototype.focus=function(t){this.block.focus(t)},e.prototype.getTextLabel=function(t){return this.block.getTextLabel?this.block.getTextLabel(t):null},e.prototype.collapse=function(){(0,d.toggleCollapsiblePanel)(this.toggleElement,!1)},e.prototype.getDuplicatedState=function(){return{id:(0,l.v4)(),value:void 0===this.block.getDuplicatedState?this.block.getState():this.block.getDuplicatedState()}},e}(c.default);e.BaseSequenceChild=b;var y=function(){function t(t,e){this.index=e&&e.index,this.onRequestInsert=e&&e.onRequestInsert}return t.prototype.setIndex=function(t){this.index=t},t.prototype.delete=function(t){var e=t.animate;void 0!==e&&e?$(this.element).slideUp().attr("aria-hidden","true"):$(this.element).hide().attr("aria-hidden","true")},t}();e.BaseInsertionControl=y;var g=function(){function t(){}return t.prototype._createChild=function(t,e,n,i,o,r,a,s){throw new Error("not implemented")},t.prototype._createInsertionControl=function(t,e){throw new Error("not implemented")},t.prototype._getChildDataForInsertion=function(t){throw new Error("not implemented")},t.prototype.getBlockGroups=function(){throw new Error("not implemented")},t.prototype.clear=function(){var t=this;this.countInput.val(0),this.sequenceContainer.empty(),this.children=[],this.blockCounter=0;var e=document.createElement("div");this.sequenceContainer.append(e),this.inserters=[this._createInsertionControl(e,{index:0,onRequestInsert:function(e,n){t._onRequestInsert(e,n)},strings:this.blockDef.meta.strings})],this.blockCountChanged()},t.prototype._onRequestInsert=function(t,e){var n=r(this._getChildDataForInsertion(e),3),i=n[0],o=n[1],a=n[2];this._insert(i,o,a||null,t,{animate:!0,focus:!0})},t.prototype.blockCountChanged=function(){},t.prototype._insert=function(t,e,n,i,o){var r=this,a=this.prefix+"-"+this.blockCounter,s=o&&o.animate,l=o&&o.focus,c=o&&o.collapsed;this.blockCounter++;var u=this.inserters[i].element,d=document.createElement("div"),h=document.createElement("div");$(d).insertAfter(u),$(h).insertAfter(d);for(var p=i;p<this.children.length;p++)this.children[p].setIndex(p+1);for(p=i+1;p<this.inserters.length;p++)this.inserters[p].setIndex(p+1);var f=this._createChild(t,d,a,i,n,e,this,{animate:s,focus:l,collapsed:c,strings:this.blockDef.meta.strings});this.children.splice(i,0,f);var v=this._createInsertionControl(h,{index:i+1,onRequestInsert:function(t,e){r._onRequestInsert(t,e)},strings:this.blockDef.meta.strings,animate:s});this.inserters.splice(i+1,0,v),this.countInput.val(this.blockCounter);var m=0===i,b=i===this.children.length-1;return m||(f.enableMoveUp(),b&&this.children[i-1].enableMoveDown()),b||(f.enableMoveDown(),m&&this.children[i+1].enableMoveUp()),this.blockCountChanged(),f},t.prototype.deleteBlock=function(t,e){var n=e&&e.animate;this.children[t].markDeleted({animate:n}),this.inserters[t].delete({animate:n}),this.children.splice(t,1),this.inserters.splice(t,1);for(var i=t;i<this.children.length;i++)this.children[i].setIndex(i);for(i=t;i<this.inserters.length;i++)this.inserters[i].setIndex(i);0===t&&this.children.length>0&&this.children[0].disableMoveUp(),t===this.children.length&&this.children.length>0&&this.children[this.children.length-1].disableMoveDown(),this.blockCountChanged()},t.prototype.moveBlock=function(t,e){if(t!==e){var n=this.inserters[t],i=this.children[t];if(e>t?$(n.element).insertAfter(this.children[e].element):$(n.element).insertBefore(this.inserters[e].element),$(i.element).insertAfter(n.element),this.inserters.splice(t,1),this.inserters.splice(e,0,n),this.children.splice(t,1),this.children.splice(e,0,i),e>t)for(var o=t;o<=e;o++)this.inserters[o].setIndex(o),this.children[o].setIndex(o);else for(o=e;o<=t;o++)this.inserters[o].setIndex(o),this.children[o].setIndex(o);var r=this.children.length-1;0===t&&(i.enableMoveUp(),this.children[0].disableMoveUp()),t===r&&(i.enableMoveDown(),this.children[r].disableMoveDown()),0===e&&(i.disableMoveUp(),this.children[1].enableMoveUp()),e===r&&(i.disableMoveDown(),this.children[r-1].enableMoveDown())}},t.prototype.moveBlockUp=function(t){this.moveBlock(t,t-1)},t.prototype.moveBlockDown=function(t){this.moveBlock(t,t+1)},t.prototype.setState=function(t){var e=this;this.clear(),t.forEach((function(t,n){e.insert(t,n)}))},t.prototype.getState=function(){return this.children.map((function(t){return t.getState()}))},t.prototype.getDuplicatedState=function(){return this.children.map((function(t){return t.getDuplicatedState()}))},t.prototype.getValue=function(){return this.children.map((function(t){return t.getValue()}))},t.prototype.getTextLabel=function(t){var e,n,i=t&&t.maxLength,o="";try{for(var r=a(this.children),s=r.next();!s.done;s=r.next()){var l=s.value.getTextLabel({maxLength:i});if(l)if(o){var c=o+", "+l;if(i&&c.length>i-1)return o.endsWith("…")||(o+="…"),o;o=c}else o=l}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o},t.prototype.focus=function(t){this.children.length&&this.children[0].focus(t)},t}();e.BaseSequenceBlock=g},4719:function(t,e,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0,e.FieldBlockDefinition=e.FieldBlock=void 0;var o=i(n(7858)),r=i(n(4530)),a=n(5447),s=i(n(1302)),l=function(){function t(t,e,n,i,l,c){this.blockDef=t,this.type=t.name;var u=$('\n      <div class="w-field__wrapper" data-field-wrapper>\n        <div class="'.concat((0,a.escapeHtml)(this.blockDef.meta.classname),'" data-field>\n          <div class="w-field__errors" id="').concat(n,'-errors" data-field-errors>\n            <svg class="icon icon-warning w-field__errors-icon" aria-hidden="true" hidden><use href="#icon-warning"></use></svg>\n          </div>\n          <div class="w-field__input" data-field-input>\n            <div data-streamfield-widget></div>\n          </div>\n          <div id="').concat(n,'-helptext" data-field-help></div>\n        </div>\n      </div>\n    '));$(e).replaceWith(u);var d=u.find("[data-streamfield-widget]").get(0);this.element=u[0],this.field=this.element.querySelector("[data-field]"),this.parentCapabilities=c||new Map,this.prefix=n;try{this.widget=this.blockDef.widget.render(d,n,n,i,this.parentCapabilities)}catch(t){return console.error(t),void this.setError([{messages:["This widget failed to render, please check the console for details"]}])}if(this.idForLabel=this.widget.idForLabel,this.blockDef.meta.helpText){var h=document.createElement("p");h.classList.add("help"),h.innerHTML=this.blockDef.meta.helpText,this.field.querySelector("[data-field-help]").appendChild(h)}if(window.comments&&this.blockDef.meta.showAddCommentButton){var p=document.createElement("button");p.type="button",p.setAttribute("aria-label",t.meta.strings.ADD_COMMENT),p.setAttribute("data-comment-add",""),p.classList.add("w-field__comment-button","w-field__comment-button--add","u-hidden"),o.default.render(r.default.createElement(r.default.Fragment,null,r.default.createElement(s.default,{name:"comment-add"}),r.default.createElement(s.default,{name:"comment-add-reversed"})),p),this.field.classList.add("w-field--commentable"),this.field.querySelector("[data-field-input]").appendChild(p),window.comments.initAddCommentButton(p)}l&&this.setError(l)}return t.prototype.setCapabilityOptions=function(t,e){Object.assign(this.parentCapabilities.get(t),e),this.widget&&this.widget.setCapabilityOptions&&this.widget.setCapabilityOptions(t,e)},t.prototype.setState=function(t){this.widget&&this.widget.setState(t)},t.prototype.setError=function(t){var e=this.field.querySelector("[data-field-errors]");if(e.querySelectorAll(".error-message").forEach((function(t){return t.remove()})),t){this.field.classList.add("w-field--error"),e.querySelector(".icon").removeAttribute("hidden");var n=document.createElement("p");n.classList.add("error-message"),n.innerHTML=t.map((function(t){return"<span>".concat((0,a.escapeHtml)(t.messages[0]),"</span>")})).join(""),e.appendChild(n)}else this.field.classList.remove("w-field--error"),e.querySelector(".icon").setAttribute("hidden","true")},t.prototype.getState=function(){return this.widget.getState()},t.prototype.getValue=function(){return this.widget.getValue()},t.prototype.getTextLabel=function(t){return this.widget.getTextLabel?this.widget.getTextLabel(t):null},t.prototype.focus=function(t){this.widget&&this.widget.focus(t)},t}();e.FieldBlock=l;var c=function(){function t(t,e,n){this.name=t,this.widget=e,this.meta=n}return t.prototype.render=function(t,e,n,i,o){return new l(this,t,e,n,i,o)},t}();e.FieldBlockDefinition=c},4919:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});e.__esModule=!0,e.ListBlockDefinition=e.ListBlock=e.ListBlockValidationError=void 0;var r=n(1614),a=n(8301),s=n(5447);e.ListBlockValidationError=function(t,e){this.blockErrors=t,this.nonBlockErrors=e};var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getState=function(){return{id:this.id,value:this.block.getState()}},e.prototype.getValue=function(){return this.block.getValue()},e.prototype.setState=function(t){var e=t.value,n=t.id;this.block.setState(e),this.id=n},e.prototype.setValue=function(t){this.block.setState(t)},e.prototype.split=function(t,e,n,i){this.sequence.splitBlock(this.index,t,e,n,i)},e}(a.BaseSequenceChild),c=function(t){function e(e,n){var i=t.call(this,e,n)||this;i.onRequestInsert=n&&n.onRequestInsert;var o=n&&n.animate,r=$('\n      <button type="button" title="'.concat((0,s.escapeHtml)(n.strings.ADD),'" data-streamfield-list-add\n          class="c-sf-add-button c-sf-add-button--visible">\n        <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>\n      </button>\n    '));return $(e).replaceWith(r),i.element=r.get(0),r.click((function(){i.onRequestInsert&&i.onRequestInsert(i.index)})),o&&r.hide().slideDown(),i}return o(e,t),e.prototype.enable=function(){$(this.element).removeAttr("disabled")},e.prototype.disable=function(){$(this.element).attr("disabled","true")},e}(a.BaseInsertionControl),u=function(t){function e(t,e,n,i,o){var r=this;r.blockDef=t,r.type=t.name,r.prefix=n;var a=$('\n      <div class="'.concat((0,s.escapeHtml)(r.blockDef.meta.classname||""),'">\n        <input type="hidden" name="').concat((0,s.escapeHtml)(n),'-count" data-streamfield-list-count value="0">\n\n        <div data-streamfield-list-container></div>\n      </div>\n    '));return $(e).replaceWith(a),r.blockDef.meta.helpText&&$('\n        <div class="c-sf-help">\n          <div class="help">\n            '.concat(r.blockDef.meta.helpText,"\n          </div>\n        </div>\n      ")).insertBefore(a),r.children=[],r.inserters=[],r.blockCounter=0,r.countInput=a.find("[data-streamfield-list-count]"),r.sequenceContainer=a.find("[data-streamfield-list-container]"),r.container=a,r.setState(i||[]),r.blockDef.meta.collapsed&&r.children.forEach((function(t){t.collapse()})),o&&r.setError(o),r}return o(e,t),e.prototype.setState=function(t){var e=this;this.clear(),t.forEach((function(t,n){var i=t.value,o=t.id;e.insert(i,n,{id:o||(0,r.v4)()})}))},e.prototype._getChildDataForInsertion=function(){return[this.blockDef.childBlockDef,this.blockDef.initialChildState]},e.prototype._createChild=function(t,e,n,i,o,r,a,s){return new l(t,e,n,i,o,r,a,s)},e.prototype._createInsertionControl=function(t,e){return new c(t,e)},e.prototype.blockCountChanged=function(){if(t.prototype.blockCountChanged.call(this),"number"==typeof this.blockDef.meta.maxNum)if(this.children.length>=this.blockDef.meta.maxNum)for(var e=0;e<this.inserters.length;e++)this.inserters[e].disable();else for(e=0;e<this.inserters.length;e++)this.inserters[e].enable()},e.prototype.insert=function(t,e,n){return this._insert(this.blockDef.childBlockDef,t,null==n?void 0:n.id,e,n)},e.prototype.duplicateBlock=function(t,e){var n=this.children[t],i=n.getDuplicatedState(),o=i.id,r=i.value,a=e&&e.animate;this.insert(r,t+1,{animate:a,focus:!0,collapsed:n.collapsed,id:o})},e.prototype.splitBlock=function(t,e,n,i,o){var r,a=this.children[t],s=o&&o.animate;a.setValue(e);var l=this.insert(n,t+1,{animate:s,focus:!0,collapsed:a.collapsed}),c=a.getContentPath(),u=l.getContentPath(),d=null===(r=window.comments)||void 0===r?void 0:r.commentApp;c&&u&&d&&d.utils.selectCommentsForContentPathFactory(c)(d.store.getState()).forEach((function(t){i(t)&&d.updateContentPath(t.localId,u)}))},e.prototype.setError=function(t){var e=this;if(1===t.length){var n=t[0],i=this.container[0];i.querySelectorAll(":scope > .help-block.help-critical").forEach((function(t){return t.remove()})),n.nonBlockErrors.length>0&&n.nonBlockErrors.forEach((function(t){var e=document.createElement("p");e.classList.add("help-block"),e.classList.add("help-critical"),e.innerHTML=(0,s.escapeHtml)(t.messages[0]),i.insertBefore(e,i.childNodes[0])})),n.blockErrors.forEach((function(t,n){t&&e.children[n].setError(t)}))}},e.prototype.getBlockGroups=function(){return[["",[this.blockDef.childBlockDef]]]},e.prototype.getBlockCount=function(){return this.children.length},e.prototype.getBlockMax=function(){return this.blockDef.meta.maxNum||0},e}(a.BaseSequenceBlock);e.ListBlock=u;var d=function(){function t(t,e,n,i){this.name=t,this.childBlockDef=e,this.initialChildState=n,this.meta=i}return t.prototype.render=function(t,e,n,i){return new u(this,t,e,n,i)},t}();e.ListBlockDefinition=d},7779:(t,e,n)=>{e.__esModule=!0,e.StaticBlockDefinition=e.StaticBlock=void 0;var i=n(5447),o=function(){function t(t,e){this.blockDef=t;var n=document.createElement("div");this.blockDef.meta.html?n.innerHTML=this.blockDef.meta.html:n.innerHTML=(0,i.escapeHtml)(this.blockDef.meta.text),e.replaceWith(n)}return t.prototype.setState=function(t){},t.prototype.setError=function(t){},t.prototype.getState=function(){return null},t.prototype.getValue=function(){return null},t.prototype.focus=function(){},t}();e.StaticBlock=o;var r=function(){function t(t,e){this.name=t,this.meta=e}return t.prototype.render=function(t){return new o(this,t)},t}();e.StaticBlockDefinition=r},8529:function(t,e,n){var i,o=this&&this.__extends||(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a};e.__esModule=!0,e.StreamBlockDefinition=e.StreamBlock=e.StreamBlockValidationError=void 0;var s=n(1614),l=n(8301),c=n(5447);e.StreamBlockValidationError=function(t,e){this.nonBlockErrors=t,this.blockErrors=e};var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getState=function(){return{type:this.type,value:this.block.getState(),id:this.id}},e.prototype.getDuplicatedState=function(){return r(r({},t.prototype.getDuplicatedState.call(this)),{type:this.type})},e.prototype.setState=function(t){var e=t.type,n=t.value,i=t.id;this.type=e,this.block.setState(n),this.id=i},e.prototype.getValue=function(){return{type:this.type,value:this.block.getValue(),id:this.id}},e.prototype.split=function(t,e,n,i){this.sequence.splitBlock(this.index,t,e,n,i)},e}(l.BaseSequenceChild),d=function(t){function e(e,n){var i=t.call(this,e,n)||this;i.groupedChildBlockDefs=n.groupedChildBlockDefs;var o=n.animate,r=$('\n      <div>\n        <button data-streamblock-menu-open type="button" title="'.concat((0,c.escapeHtml)(n.strings.ADD),'"\n            class="c-sf-add-button c-sf-add-button--visible">\n          <svg class="icon icon-plus" aria-hidden="true"><use href="#icon-plus"></use></svg>\n        </button>\n        <div data-streamblock-menu-outer>\n          <div data-streamblock-menu-inner class="c-sf-add-panel"></div>\n        </div>\n      </div>\n    '));return $(e).replaceWith(r),i.element=r.get(0),i.addButton=r.find("[data-streamblock-menu-open]"),i.addButton.click((function(){i.toggle()})),i.outerContainer=r.find("[data-streamblock-menu-outer]"),i.innerContainer=r.find("[data-streamblock-menu-inner]"),i.hasRenderedMenu=!1,i.isOpen=!1,i.canAddBlock=!0,i.disabledBlockTypes=new Set,i.close({animate:!1}),o&&r.hide().slideDown(),i}return o(e,t),e.prototype.renderMenu=function(){var t=this;this.hasRenderedMenu||(this.hasRenderedMenu=!0,this.groupedChildBlockDefs.forEach((function(e){var n=a(e,2),i=n[0],o=n[1];if(i){var r=$('<h4 class="c-sf-add-panel__group-title"></h4>').text(i);t.innerContainer.append(r)}var s=$('<div class="c-sf-add-panel__grid"></div>');t.innerContainer.append(s),o.forEach((function(e){var n=$('\n          <button type="button" class="c-sf-button action-add-block-'.concat((0,c.escapeHtml)(e.name),'">\n            <svg class="icon icon-').concat((0,c.escapeHtml)(e.meta.icon),' c-sf-button__icon" aria-hidden="true">\n              <use href="#icon-').concat((0,c.escapeHtml)(e.meta.icon),'"></use>\n            </svg>\n            ').concat((0,c.escapeHtml)(e.meta.label),"\n          </button>\n        "));s.append(n),n.click((function(){t.onRequestInsert&&t.onRequestInsert(t.index,{type:e.name}),t.close({animate:!0})}))}))})),this.disabledBlockTypes.forEach((function(e){$("button.action-add-block-".concat((0,c.escapeHtml)(e)),t.innerContainer).attr("disabled","true")})))},e.prototype.setNewBlockRestrictions=function(t,e){var n=this;this.canAddBlock=t,this.disabledBlockTypes=e,this.canAddBlock?this.addButton.removeAttr("disabled"):this.addButton.attr("disabled","true"),!t&&this.isOpen&&this.close({animate:!0}),$("button",this.innerContainer).removeAttr("disabled"),e.forEach((function(t){$("button.action-add-block-".concat((0,c.escapeHtml)(t)),n.innerContainer).attr("disabled","true")}))},e.prototype.toggle=function(){this.isOpen?this.close({animate:!0}):this.open({animate:!0})},e.prototype.open=function(t){this.canAddBlock&&(this.renderMenu(),t&&t.animate?this.outerContainer.slideDown():this.outerContainer.show(),this.addButton.addClass("c-sf-add-button--close"),this.outerContainer.attr("aria-hidden","false"),this.isOpen=!0)},e.prototype.close=function(t){t&&t.animate?this.outerContainer.slideUp():this.outerContainer.hide(),this.addButton.removeClass("c-sf-add-button--close"),this.outerContainer.attr("aria-hidden","true"),this.isOpen=!1},e}(l.BaseInsertionControl),h=function(t){function e(t,e,n,i,o){var r=this;r.blockDef=t,r.type=t.name,r.prefix=n;var a=$('\n      <div class="'.concat((0,c.escapeHtml)(r.blockDef.meta.classname||""),'">\n        <input type="hidden" name="').concat((0,c.escapeHtml)(n),'-count" data-streamfield-stream-count value="0">\n        <div data-streamfield-stream-container></div>\n      </div>\n    '));return $(e).replaceWith(a),r.blockDef.meta.helpText&&$('\n        <div class="c-sf-help">\n          <div class="help">\n            '.concat(r.blockDef.meta.helpText,"\n          </div>\n        </div>\n      ")).insertBefore(a),r.children=[],r.childBlockCounts=new Map,r.inserters=[],r.blockCounter=0,r.countInput=a.find("[data-streamfield-stream-count]"),r.sequenceContainer=a.find("[data-streamfield-stream-container]"),r.setState(i||[]),r.blockDef.meta.collapsed&&r.children.forEach((function(t){t.collapse()})),r.container=a,o&&r.setError(o),r}return o(e,t),e.prototype.getBlockGroups=function(){return this.blockDef.groupedChildBlockDefs},e.prototype.getBlockCount=function(t){return t?(this.childBlockCounts.has(t)||this._updateBlockCount(t),this.childBlockCounts.get(t)||0):this.children.length},e.prototype.getBlockMax=function(t){var e;return t?null===(e=this.blockDef.meta.blockCounts[t])||void 0===e?void 0:e.max_num:this.blockDef.meta.maxNum},e.prototype._updateBlockCount=function(t){var e=this.children.filter((function(e){return e.type===t})).length;this.childBlockCounts.set(t,e)},e.prototype.blockCountChanged=function(){for(var e in t.prototype.blockCountChanged.call(this),this.canAddBlock=!0,this.childBlockCounts.clear(),"number"==typeof this.blockDef.meta.maxNum&&this.children.length>=this.blockDef.meta.maxNum&&(this.canAddBlock=!1),this.disabledBlockTypes=new Set,this.blockDef.meta.blockCounts)if(this.blockDef.meta.blockCounts.hasOwnProperty(e)){var n=this.getBlockMax(e);"number"==typeof n&&this.getBlockCount(e)>=n&&this.disabledBlockTypes.add(e)}for(var i=0;i<this.inserters.length;i++)this.inserters[i].setNewBlockRestrictions(this.canAddBlock,this.disabledBlockTypes)},e.prototype._createChild=function(t,e,n,i,o,r,a,s){return new u(t,e,n,i,o,r,a,s)},e.prototype._createInsertionControl=function(t,e){return e.groupedChildBlockDefs=this.blockDef.groupedChildBlockDefs,new d(t,e)},e.prototype.insert=function(t,e,n){var i=t.type,o=t.value,r=t.id,a=this.blockDef.childBlockDefsByName[i];return this._insert(a,o,r,e,n)},e.prototype._getChildDataForInsertion=function(t){var e=t.type;return[this.blockDef.childBlockDefsByName[e],this.blockDef.initialChildStates[e],(0,s.v4)()]},e.prototype.duplicateBlock=function(t,e){var n=this.children[t],i=n.getDuplicatedState(),o=e&&e.animate;this.insert(i,t+1,{animate:o,focus:!0,collapsed:n.collapsed})},e.prototype.splitBlock=function(t,e,n,i,o){var r,a=this.children[t],l=o&&o.animate,c=a.getState(),u=this.insert({type:c.type,id:(0,s.v4)(),value:n},t+1,{animate:l,focus:!0,collapsed:a.collapsed});a.setState({type:c.type,id:c.id,value:e});var d=a.getContentPath(),h=u.getContentPath(),p=null===(r=window.comments)||void 0===r?void 0:r.commentApp;d&&h&&p&&p.utils.selectCommentsForContentPathFactory(d)(p.store.getState()).forEach((function(t){i(t)&&p.updateContentPath(t.localId,h)}))},e.prototype.setState=function(e){t.prototype.setState.call(this,e),0===e.length&&this.inserters[0].open({animate:!1})},e.prototype.setError=function(t){if(1===t.length){var e=t[0],n=this.container[0];for(var i in n.querySelectorAll(":scope > .help-block.help-critical").forEach((function(t){return t.remove()})),e.nonBlockErrors.length>0&&e.nonBlockErrors.forEach((function(t){var e=document.createElement("p");e.classList.add("help-block"),e.classList.add("help-critical"),e.innerHTML=(0,c.escapeHtml)(t.messages[0]),n.insertBefore(e,n.childNodes[0])})),e.blockErrors)e.blockErrors.hasOwnProperty(i)&&this.children[i].setError(e.blockErrors[i])}},e}(l.BaseSequenceBlock);e.StreamBlock=h;var p=function(){function t(t,e,n,i){var o=this;this.name=t,this.groupedChildBlockDefs=e,this.initialChildStates=n,this.childBlockDefsByName={},this.groupedChildBlockDefs.forEach((function(t){var e=a(t,2);e[0],e[1].forEach((function(t){o.childBlockDefsByName[t.name]=t}))})),this.meta=i}return t.prototype.render=function(t,e,n,i){return new h(this,t,e,n,i)},t}();e.StreamBlockDefinition=p},4035:function(t,e,n){var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};e.__esModule=!0,e.StructBlockDefinition=e.StructBlock=e.StructBlockValidationError=void 0;var o=n(5447);e.StructBlockValidationError=function(t){this.blockErrors=t};var r=function(){function t(t,e,n,i,r){var a=this,s=i||{};if(this.blockDef=t,this.type=t.name,this.childBlocks={},t.meta.formTemplate){var l=t.meta.formTemplate.replace(/__PREFIX__/g,n),c=$(l);$(e).replaceWith(c),this.blockDef.childBlockDefs.forEach((function(t){var e=c.find('[data-structblock-child="'+t.name+'"]').get(0),i=t.render(e,n+"-"+t.name,s[t.name],null==r?void 0:r.blockErrors[t.name]);a.childBlocks[t.name]=i}))}else{var u=$('\n        <div class="'.concat((0,o.escapeHtml)(this.blockDef.meta.classname||""),'">\n        </div>\n      '));$(e).replaceWith(u),this.blockDef.meta.helpText&&u.append('\n          <div class="c-sf-help">\n            <div class="help">\n              '.concat(this.blockDef.meta.helpText,"\n            </div>\n          </div>\n        ")),this.blockDef.childBlockDefs.forEach((function(t){var e=$('\n        <div data-contentpath="'.concat(t.name,'">\n          <label class="w-field__label">').concat((0,o.escapeHtml)(t.meta.label)).concat(t.meta.required?'<span class="w-required-mark">*</span>':"","</label>\n            <div data-streamfield-block></div>\n          </div>\n        "));u.append(e);var i=e.find("[data-streamfield-block]").get(0),l=e.find("label").get(0),c=t.render(i,n+"-"+t.name,s[t.name],null==r?void 0:r.blockErrors[t.name],new Map);a.childBlocks[t.name]=c,c.idForLabel&&l.setAttribute("for",c.idForLabel)}))}}return t.prototype.setState=function(t){for(var e in t)this.childBlocks[e].setState(t[e])},t.prototype.setError=function(t){if(1===t.length){var e=t[0];for(var n in e.blockErrors)e.blockErrors.hasOwnProperty(n)&&this.childBlocks[n].setError(e.blockErrors[n])}},t.prototype.getState=function(){var t={};for(var e in this.childBlocks)t[e]=this.childBlocks[e].getState();return t},t.prototype.getDuplicatedState=function(){var t={};for(var e in this.childBlocks){var n=this.childBlocks[e];t[e]=void 0===n.getDuplicatedState?n.getState():n.getDuplicatedState()}return t},t.prototype.getValue=function(){var t={};for(var e in this.childBlocks)t[e]=this.childBlocks[e].getValue();return t},t.prototype.getTextLabel=function(t){var e,n,o=this;if(this.blockDef.meta.labelFormat)return this.blockDef.meta.labelFormat.replace(/\{(\w+)\}/g,(function(e,n){var i=o.childBlocks[n];return i.getTextLabel?i.getTextLabel(t):""}));try{for(var r=i(this.blockDef.childBlockDefs),a=r.next();!a.done;a=r.next()){var s=a.value,l=this.childBlocks[s.name];if(l.getTextLabel){var c=l.getTextLabel(t);if(c)return c}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype.focus=function(t){if(this.blockDef.childBlockDefs.length){var e=this.blockDef.childBlockDefs[0].name;this.childBlocks[e].focus(t)}},t}();e.StructBlock=r;var a=function(){function t(t,e,n){this.name=t,this.childBlockDefs=e,this.meta=n}return t.prototype.render=function(t,e,n,i){return new r(this,t,e,n,i)},t}();e.StructBlockDefinition=a},6819:(t,e,n)=>{var i=n(4719),o=n(7779),r=n(4035),a=n(4919),s=n(8529),l=window.wagtailStreamField||{};l.blocks={FieldBlock:i.FieldBlock,FieldBlockDefinition:i.FieldBlockDefinition,StaticBlock:o.StaticBlock,StaticBlockDefinition:o.StaticBlockDefinition,StructBlock:r.StructBlock,StructBlockDefinition:r.StructBlockDefinition,StructBlockValidationError:r.StructBlockValidationError,ListBlock:a.ListBlock,ListBlockDefinition:a.ListBlockDefinition,ListBlockValidationError:a.ListBlockValidationError,StreamBlock:s.StreamBlock,StreamBlockDefinition:s.StreamBlockDefinition,StreamBlockValidationError:s.StreamBlockValidationError},window.initBlockWidget=function(t){var e=document.querySelector("#"+t+"[data-block]"),n=JSON.parse(e.dataset.block),i=window.telepath.unpack(n),o=JSON.parse(e.dataset.value),r=window.telepath.unpack(JSON.parse(e.dataset.errors));i.render(e,t,o,r)},window.telepath.register("wagtail.blocks.FieldBlock",i.FieldBlockDefinition),window.telepath.register("wagtail.blocks.StaticBlock",o.StaticBlockDefinition),window.telepath.register("wagtail.blocks.StructBlock",r.StructBlockDefinition),window.telepath.register("wagtail.blocks.StructBlockValidationError",r.StructBlockValidationError),window.telepath.register("wagtail.blocks.ListBlock",a.ListBlockDefinition),window.telepath.register("wagtail.blocks.ListBlockValidationError",a.ListBlockValidationError),window.telepath.register("wagtail.blocks.StreamBlock",s.StreamBlockDefinition),window.telepath.register("wagtail.blocks.StreamBlockValidationError",s.StreamBlockValidationError),window.wagtailStreamField=l},1614:(t,e,n)=>{var i;n.r(e),n.d(e,{NIL:()=>O,parse:()=>m,stringify:()=>u,v1:()=>v,v3:()=>D,v4:()=>S,v5:()=>L,validate:()=>s,version:()=>I});var o=new Uint8Array(16);function r(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}const a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(t){return"string"==typeof t&&a.test(t)};for(var l=[],c=0;c<256;++c)l.push((c+256).toString(16).substr(1));const u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[t[e+0]]+l[t[e+1]]+l[t[e+2]]+l[t[e+3]]+"-"+l[t[e+4]]+l[t[e+5]]+"-"+l[t[e+6]]+l[t[e+7]]+"-"+l[t[e+8]]+l[t[e+9]]+"-"+l[t[e+10]]+l[t[e+11]]+l[t[e+12]]+l[t[e+13]]+l[t[e+14]]+l[t[e+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};var d,h,p=0,f=0;const v=function(t,e,n){var i=e&&n||0,o=e||new Array(16),a=(t=t||{}).node||d,s=void 0!==t.clockseq?t.clockseq:h;if(null==a||null==s){var l=t.random||(t.rng||r)();null==a&&(a=d=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==s&&(s=h=16383&(l[6]<<8|l[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),v=void 0!==t.nsecs?t.nsecs:f+1,m=c-p+(v-f)/1e4;if(m<0&&void 0===t.clockseq&&(s=s+1&16383),(m<0||c>p)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,f=v,h=s;var b=(1e4*(268435455&(c+=122192928e5))+v)%4294967296;o[i++]=b>>>24&255,o[i++]=b>>>16&255,o[i++]=b>>>8&255,o[i++]=255&b;var y=c/4294967296*1e4&268435455;o[i++]=y>>>8&255,o[i++]=255&y,o[i++]=y>>>24&15|16,o[i++]=y>>>16&255,o[i++]=s>>>8|128,o[i++]=255&s;for(var g=0;g<6;++g)o[i+g]=a[g];return e||u(o)},m=function(t){if(!s(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=255&e,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=255&e,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=255&e,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=255&e,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=255&e,n};function b(t,e,n){function i(t,i,o,r){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}(t)),"string"==typeof i&&(i=m(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(i),a.set(t,i.length),(a=n(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,o){r=r||0;for(var s=0;s<16;++s)o[r+s]=a[s];return o}return u(a)}try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function y(t){return 14+(t+64>>>9<<4)+1}function g(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function k(t,e,n,i,o,r){return g((a=g(g(e,t),g(i,r)))<<(s=o)|a>>>32-s,n);var a,s}function w(t,e,n,i,o,r,a){return k(e&n|~e&i,t,e,o,r,a)}function B(t,e,n,i,o,r,a){return k(e&i|n&~i,t,e,o,r,a)}function _(t,e,n,i,o,r,a){return k(e^n^i,t,e,o,r,a)}function C(t,e,n,i,o,r,a){return k(n^(e|~i),t,e,o,r,a)}const D=b("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return function(t){for(var e=[],n=32*t.length,i="0123456789abcdef",o=0;o<n;o+=8){var r=t[o>>5]>>>o%32&255,a=parseInt(i.charAt(r>>>4&15)+i.charAt(15&r),16);e.push(a)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[y(e)-1]=e;for(var n=1732584193,i=-271733879,o=-1732584194,r=271733878,a=0;a<t.length;a+=16){var s=n,l=i,c=o,u=r;n=w(n,i,o,r,t[a],7,-680876936),r=w(r,n,i,o,t[a+1],12,-389564586),o=w(o,r,n,i,t[a+2],17,606105819),i=w(i,o,r,n,t[a+3],22,-1044525330),n=w(n,i,o,r,t[a+4],7,-176418897),r=w(r,n,i,o,t[a+5],12,1200080426),o=w(o,r,n,i,t[a+6],17,-1473231341),i=w(i,o,r,n,t[a+7],22,-45705983),n=w(n,i,o,r,t[a+8],7,1770035416),r=w(r,n,i,o,t[a+9],12,-1958414417),o=w(o,r,n,i,t[a+10],17,-42063),i=w(i,o,r,n,t[a+11],22,-1990404162),n=w(n,i,o,r,t[a+12],7,1804603682),r=w(r,n,i,o,t[a+13],12,-40341101),o=w(o,r,n,i,t[a+14],17,-1502002290),n=B(n,i=w(i,o,r,n,t[a+15],22,1236535329),o,r,t[a+1],5,-165796510),r=B(r,n,i,o,t[a+6],9,-1069501632),o=B(o,r,n,i,t[a+11],14,643717713),i=B(i,o,r,n,t[a],20,-373897302),n=B(n,i,o,r,t[a+5],5,-701558691),r=B(r,n,i,o,t[a+10],9,38016083),o=B(o,r,n,i,t[a+15],14,-660478335),i=B(i,o,r,n,t[a+4],20,-405537848),n=B(n,i,o,r,t[a+9],5,568446438),r=B(r,n,i,o,t[a+14],9,-1019803690),o=B(o,r,n,i,t[a+3],14,-187363961),i=B(i,o,r,n,t[a+8],20,1163531501),n=B(n,i,o,r,t[a+13],5,-1444681467),r=B(r,n,i,o,t[a+2],9,-51403784),o=B(o,r,n,i,t[a+7],14,1735328473),n=_(n,i=B(i,o,r,n,t[a+12],20,-1926607734),o,r,t[a+5],4,-378558),r=_(r,n,i,o,t[a+8],11,-2022574463),o=_(o,r,n,i,t[a+11],16,1839030562),i=_(i,o,r,n,t[a+14],23,-35309556),n=_(n,i,o,r,t[a+1],4,-1530992060),r=_(r,n,i,o,t[a+4],11,1272893353),o=_(o,r,n,i,t[a+7],16,-155497632),i=_(i,o,r,n,t[a+10],23,-1094730640),n=_(n,i,o,r,t[a+13],4,681279174),r=_(r,n,i,o,t[a],11,-358537222),o=_(o,r,n,i,t[a+3],16,-722521979),i=_(i,o,r,n,t[a+6],23,76029189),n=_(n,i,o,r,t[a+9],4,-640364487),r=_(r,n,i,o,t[a+12],11,-421815835),o=_(o,r,n,i,t[a+15],16,530742520),n=C(n,i=_(i,o,r,n,t[a+2],23,-995338651),o,r,t[a],6,-198630844),r=C(r,n,i,o,t[a+7],10,1126891415),o=C(o,r,n,i,t[a+14],15,-1416354905),i=C(i,o,r,n,t[a+5],21,-57434055),n=C(n,i,o,r,t[a+12],6,1700485571),r=C(r,n,i,o,t[a+3],10,-1894986606),o=C(o,r,n,i,t[a+10],15,-1051523),i=C(i,o,r,n,t[a+1],21,-2054922799),n=C(n,i,o,r,t[a+8],6,1873313359),r=C(r,n,i,o,t[a+15],10,-30611744),o=C(o,r,n,i,t[a+6],15,-1560198380),i=C(i,o,r,n,t[a+13],21,1309151649),n=C(n,i,o,r,t[a+4],6,-145523070),r=C(r,n,i,o,t[a+11],10,-1120210379),o=C(o,r,n,i,t[a+2],15,718787259),i=C(i,o,r,n,t[a+9],21,-343485551),n=g(n,s),i=g(i,l),o=g(o,c),r=g(r,u)}return[n,i,o,r]}(function(t){if(0===t.length)return[];for(var e=8*t.length,n=new Uint32Array(y(e)),i=0;i<e;i+=8)n[i>>5]|=(255&t[i/8])<<i%32;return n}(t),8*t.length))})),S=function(t,e,n){var i=(t=t||{}).random||(t.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return u(i)};function E(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:case 3:return e^n^i;case 2:return e&n^e&i^n&i}}function x(t,e){return t<<e|t>>>32-e}const L=b("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var i=unescape(encodeURIComponent(t));t=[];for(var o=0;o<i.length;++o)t.push(i.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var r=t.length/4+2,a=Math.ceil(r/16),s=new Array(a),l=0;l<a;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=t[64*l+4*u]<<24|t[64*l+4*u+1]<<16|t[64*l+4*u+2]<<8|t[64*l+4*u+3];s[l]=c}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(var d=0;d<a;++d){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=s[d][p];for(var f=16;f<80;++f)h[f]=x(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var v=n[0],m=n[1],b=n[2],y=n[3],g=n[4],k=0;k<80;++k){var w=Math.floor(k/20),B=x(v,5)+E(w,m,b,y)+g+e[w]+h[k]>>>0;g=y,y=b,b=x(m,30)>>>0,m=v,v=B}n[0]=n[0]+v>>>0,n[1]=n[1]+m>>>0,n[2]=n[2]+b>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+g>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),O="00000000-0000-0000-0000-000000000000",I=function(t){if(!s(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={exports:{}};return e[t].call(r.exports,r,r.exports,i),r.exports}i.m=e,t=[],i.O=(e,n,o,r)=>{if(!n){var a=1/0;for(u=0;u<t.length;u++){for(var[n,o,r]=t[u],s=!0,l=0;l<n.length;l++)(!1&r||a>=r)&&Object.keys(i.O).every((t=>i.O[t](n[l])))?n.splice(l--,1):(s=!1,r<a&&(a=r));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,o,r]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.j=849,(()=>{var t={849:0};i.O.j=e=>0===t[e];var e=(e,n)=>{var o,r,[a,s,l]=n,c=0;if(a.some((e=>0!==t[e]))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(l)var u=l(i)}for(e&&e(n);c<a.length;c++)r=a[c],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(u)},n=globalThis.webpackChunkwagtail=globalThis.webpackChunkwagtail||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=i.O(void 0,[751],(()=>i(6819)));o=i.O(o)})();